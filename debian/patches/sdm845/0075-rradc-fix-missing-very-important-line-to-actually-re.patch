From: Caleb Connolly <caleb.connolly@linaro.org>
Date: Wed, 8 Dec 2021 16:40:56 +0000
Subject: [PATCH 78/79] rradc: fix missing very important line to actually
 read data

---
 drivers/iio/adc/qcom-spmi-rradc.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/iio/adc/qcom-spmi-rradc.c b/drivers/iio/adc/qcom-spmi-rradc.c
index 2596d73..bfb7676 100644
--- a/drivers/iio/adc/qcom-spmi-rradc.c
+++ b/drivers/iio/adc/qcom-spmi-rradc.c
@@ -816,6 +816,7 @@ static int rradc_read_raw(struct iio_dev *indio_dev,
 	}
 
 	chan = &chip->chans[chan_spec->address];
+	ret = rradc_do_conversion(chip, chan_spec->address, &adc_code);
 	if (ret < 0)
 		return ret;
 	dev_dbg(chip->dev, "adc_code:%d\n", adc_code);
